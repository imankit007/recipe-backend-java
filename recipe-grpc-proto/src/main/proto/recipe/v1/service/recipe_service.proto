syntax = "proto3";

package recipe;

option java_package = "com.recipe.grpc.api.recipe.v1";
option java_multiple_files = true;
option java_outer_classname = "RecipeServiceProto";

import "common/v1/page.proto";
import "recipe/v1/model/recipe.proto";
import "recipe/v1/model/ingredient_request.proto";
import "recipe/v1/model/recipe_step.proto";

import "recipe/v1/enums/recipe_difficulty_enum.proto";



service RecipeService {

  rpc CreateRecipe(CreateRecipeRequest) returns (CreateRecipeResponse) {}

  rpc GetRecipe(GetRecipeRequest) returns (GetRecipeResponse) {}

  rpc ListRecipes(ListRecipesRequest) returns (ListRecipesResponse) {}

  rpc UpdateRecipe(UpdateRecipeRequest) returns (UpdateRecipeResponse) {}

  rpc DeleteRecipe(DeleteRecipeRequest) returns (DeleteRecipeResponse) {}

}

message GetRecipeRequest {
  int64 id = 1;
}

message GetRecipeResponse{
  Recipe recipe = 1;
}


// CreateRecipeRequest is used to create a new recipe
message CreateRecipeRequest {

  // Title of the recipe
  string title = 1;

  // Description of the recipe
  string description = 2;

  // Difficulty level of the recipe
  optional RecipeDifficulty difficulty = 3;

  // Preparation time in minutes
  uint32 prep_time_in_minutes = 4;

  // Cook time in minutes
  uint32 cook_time_in_minutes = 5;

  // Number of servings
  uint32 servings = 6;

  // List of ingredients
  repeated IngredientRequest ingredients = 7;

  // List of recipe steps
  repeated RecipeStep steps = 8;

}

message CreateRecipeResponse {
  Recipe recipe = 1;
}

message UpdateRecipeRequest {
  Recipe recipe = 1;
}

message UpdateRecipeResponse {
  Recipe recipe = 1;
}

message DeleteRecipeRequest {
  int64 id = 1;
}

message DeleteRecipeResponse {

}

message ListRecipesRequest {

  uint32 page = 1;

  uint32 size = 2;


}

message ListRecipesResponse {
  repeated Recipe recipes = 1;
  Page page = 2;
}
